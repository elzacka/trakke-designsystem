// ============================================================================
// TRÃ…KKE DESIGN SYSTEM - ANIMATIONS
// Naturlige, behagelige animasjoner med respekt for tilgjengelighet
// ============================================================================

// Timing functions (easing)
$trk-ease-linear: linear;
$trk-ease-in: cubic-bezier(0.4, 0, 1, 1);
$trk-ease-out: cubic-bezier(0, 0, 0.2, 1);
$trk-ease-in-out: cubic-bezier(0.4, 0, 0.2, 1);

// Custom easing for natural feel
$trk-ease-spring: cubic-bezier(0.34, 1.56, 0.64, 1);
$trk-ease-bounce: cubic-bezier(0.68, -0.55, 0.265, 1.55);
$trk-ease-smooth: cubic-bezier(0.25, 0.1, 0.25, 1);
$trk-ease-snappy: cubic-bezier(0.2, 0, 0, 1);

// Duration scale
$trk-duration-instant: 0ms;
$trk-duration-fast: 100ms;
$trk-duration-normal: 200ms;
$trk-duration-slow: 300ms;
$trk-duration-slower: 400ms;
$trk-duration-slowest: 500ms;

// Common transition presets
$trk-transition-fast: $trk-duration-fast $trk-ease-out;
$trk-transition-normal: $trk-duration-normal $trk-ease-out;
$trk-transition-slow: $trk-duration-slow $trk-ease-out;

// Property-specific transitions
$trk-transition-colors: color $trk-transition-fast, background-color $trk-transition-fast, border-color $trk-transition-fast;
$trk-transition-opacity: opacity $trk-transition-normal;
$trk-transition-transform: transform $trk-transition-normal;
$trk-transition-shadow: box-shadow $trk-transition-normal;
$trk-transition-all: all $trk-transition-normal;

// Keyframe animations
@keyframes trk-fade-in {
  from { opacity: 0; }
  to { opacity: 1; }
}

@keyframes trk-fade-out {
  from { opacity: 1; }
  to { opacity: 0; }
}

@keyframes trk-slide-up {
  from {
    opacity: 0;
    transform: translateY(16px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes trk-slide-down {
  from {
    opacity: 0;
    transform: translateY(-16px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes trk-slide-in-right {
  from {
    opacity: 0;
    transform: translateX(16px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

@keyframes trk-slide-in-left {
  from {
    opacity: 0;
    transform: translateX(-16px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

@keyframes trk-scale-in {
  from {
    opacity: 0;
    transform: scale(0.95);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

@keyframes trk-scale-out {
  from {
    opacity: 1;
    transform: scale(1);
  }
  to {
    opacity: 0;
    transform: scale(0.95);
  }
}

@keyframes trk-spin {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}

@keyframes trk-pulse {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.5; }
}

@keyframes trk-bounce {
  0%, 100% {
    transform: translateY(0);
    animation-timing-function: cubic-bezier(0.8, 0, 1, 1);
  }
  50% {
    transform: translateY(-25%);
    animation-timing-function: cubic-bezier(0, 0, 0.2, 1);
  }
}

@keyframes trk-ping {
  75%, 100% {
    transform: scale(2);
    opacity: 0;
  }
}

@keyframes trk-shake {
  0%, 100% { transform: translateX(0); }
  10%, 30%, 50%, 70%, 90% { transform: translateX(-4px); }
  20%, 40%, 60%, 80% { transform: translateX(4px); }
}

// Waypoint pulse animation (for map markers)
@keyframes trk-waypoint-pulse {
  0% {
    box-shadow: 0 0 0 0 rgba(208, 68, 62, 0.4);
  }
  70% {
    box-shadow: 0 0 0 12px rgba(208, 68, 62, 0);
  }
  100% {
    box-shadow: 0 0 0 0 rgba(208, 68, 62, 0);
  }
}

// GPS location pulse
@keyframes trk-gps-pulse {
  0% {
    box-shadow: 0 0 0 0 rgba(30, 108, 224, 0.4);
  }
  70% {
    box-shadow: 0 0 0 16px rgba(30, 108, 224, 0);
  }
  100% {
    box-shadow: 0 0 0 0 rgba(30, 108, 224, 0);
  }
}

// Sheet slide animations
@keyframes trk-sheet-slide-up {
  from {
    transform: translateY(100%);
  }
  to {
    transform: translateY(0);
  }
}

@keyframes trk-sheet-slide-down {
  from {
    transform: translateY(0);
  }
  to {
    transform: translateY(100%);
  }
}

// FAB menu stagger animation
@keyframes trk-fab-item-enter {
  from {
    opacity: 0;
    transform: scale(0.8) translateY(8px);
  }
  to {
    opacity: 1;
    transform: scale(1) translateY(0);
  }
}

// Notification enter
@keyframes trk-notification-enter {
  from {
    opacity: 0;
    transform: translateY(-100%);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

// Animation utility classes
.trk-animate-fade-in {
  animation: trk-fade-in $trk-duration-normal $trk-ease-out forwards;
}

.trk-animate-slide-up {
  animation: trk-slide-up $trk-duration-normal $trk-ease-out forwards;
}

.trk-animate-scale-in {
  animation: trk-scale-in $trk-duration-normal $trk-ease-spring forwards;
}

.trk-animate-spin {
  animation: trk-spin 1s $trk-ease-linear infinite;
}

.trk-animate-pulse {
  animation: trk-pulse 2s $trk-ease-in-out infinite;
}

.trk-animate-bounce {
  animation: trk-bounce 1s infinite;
}

// Reduced motion: disable animations
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}

// CSS custom properties export
:root {
  --trk-ease-linear: #{$trk-ease-linear};
  --trk-ease-in: #{$trk-ease-in};
  --trk-ease-out: #{$trk-ease-out};
  --trk-ease-in-out: #{$trk-ease-in-out};
  --trk-ease-spring: #{$trk-ease-spring};
  --trk-ease-bounce: #{$trk-ease-bounce};
  --trk-ease-smooth: #{$trk-ease-smooth};
  --trk-ease-snappy: #{$trk-ease-snappy};
  
  --trk-duration-instant: #{$trk-duration-instant};
  --trk-duration-fast: #{$trk-duration-fast};
  --trk-duration-normal: #{$trk-duration-normal};
  --trk-duration-slow: #{$trk-duration-slow};
  --trk-duration-slower: #{$trk-duration-slower};
  --trk-duration-slowest: #{$trk-duration-slowest};
}
